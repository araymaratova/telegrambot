from aiogram import Router, F
from aiogram.types import CallbackQuery
from keyboards import email_menu

router = Router()

@router.callback_query(F.data == "email_complaint")
async def email_complaint(callback: CallbackQuery):
    # Отправка всех шаблонов в одном сообщении
    text = "\n\n".join([
        "    Здравствуйте, [Имя],\n"
        "Спасибо, что сообщили нам о вашей проблеме. Мы понимаем, насколько важно получить качественное обслуживание, и нам очень жаль, что ваш опыт оказался неудовлетворительным. "
        "Наши специалисты уже анализируют ситуацию и в скором времени предложат вам решение. Если вам удобно, пожалуйста, уточните детали: дату обращения, номер заказа или иную информацию, которая может помочь в разборе.\n\n"
        "Мы ценим ваше терпение и сделаем все возможное, чтобы исправить ситуацию.",

        "    Добрый день, [Имя],\n"
        "Благодарим вас за то, что написали нам. Мы очень сожалеем, что вам пришлось столкнуться с этой ситуацией. Мы внимательно рассмотрели ваше обращение и уже предприняли меры, чтобы разобраться в причине произошедшего.\n\n"
        "Если вам потребуется дополнительная информация, пожалуйста, не стесняйтесь обращаться к нам. Мы готовы ответить на все ваши вопросы и помочь вам в кратчайшие сроки.",

        "    Здравствуйте, [Имя],\n"
        "Нам важно, чтобы каждый клиент был доволен нашим сервисом. Мы понимаем, насколько неприятной может быть сложившаяся ситуация, и готовы предложить вам возможные пути решения. "
        "Пожалуйста, уточните номер вашего заказа, дату обращения или любые другие детали, которые помогут нам быстрее разобраться в вопросе.\n\n"
        "Мы обязательно свяжемся с вами в ближайшее время, чтобы обсудить дальнейшие шаги. Спасибо за ваше терпение и понимание!"
    ])
    
    # Отправляем все шаблоны одним сообщением с кнопкой "Назад"
    await callback.message.answer(
        text,
        reply_markup=email_menu  # Клавиатура с кнопкой назад
    )
    await callback.answer()

